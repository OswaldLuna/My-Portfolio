---
import WebSiteIcon from './icons/WebSiteIcon.astro';

interface Props {
  title: string;
  description: string;
  url?: string;
  images: string[];
  ariaLabel?: string;
}

const { description, title, url, images, ariaLabel } = Astro.props;
---

<article class="flex flex-col w-full bg-gray-900/75 backdrop-blur-sm rounded-lg shadow-sm overflow-hidden dark:bg-white/95">
  <div 
    id="images" 
    class="w-full aspect-video" 
    style={`--bg-image-1: url(${images[0]}); --bg-image-2: url(${images[1]}); --bg-image-3: url(${images[2]});`}
  />
  <div class="p-5">
    <h5 class="mb-4 text-2xl font-bold text-white tracking-tight dark:text-gray-900 lg:text-3xl lg:mb-5">{title}</h5>
      
    <p class="mb-4 font-normal text-lg text-gray-200 text-pretty dark:text-gray-700 lg:text-xl lg:mb-5">{description}</p>
    <a 
      href={url} 
      target="_blank" 
      rel="noopener noreferrer"
      aria-label={ariaLabel}
      class="inline-flex items-center px-3 py-2 gap-x-3 text-sm font-medium text-center text-white rounded-lg focus:outline-none bg-purple-600 hover:bg-purple-800">
      <WebSiteIcon class="size-6 lg:size-8"/>
      {url}
    </a>
  </div>
</article>

<style>
  @keyframes changeBg {
    0%   { background-image: var(--bg-image-1); }
    33%  { background-image: var(--bg-image-2); }
    66%  { background-image: var(--bg-image-3); }
    100% { background-image: var(--bg-image-1); }
  }

  #images {
    animation: changeBg 12s infinite;
    background-size: cover;
    background-position: center;
  }
</style>
